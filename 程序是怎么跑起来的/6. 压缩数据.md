# 6 压缩数据
在解说文件的压缩机制之前，首先文件是将数据存储在磁盘等存储媒介中的一种形式。程序文件中存储数据的单位是字节。

## 6.1 RLE算法
RLE算法，就是把文件内容用“数据X重复次数”的形式来表示的压缩方法。比如`AAAAAABBCCDDEEEEEF`，17个字节，压缩后是`A6B2C1D2E5F1`，即12个字符。
### 6.1.1 缺点
但是实际上，同样字符多次重复的文本文件很少，因此不适合文本文件的压缩。如`ABCDEF`，6个字节，压缩后是`A1B1C1D1E1F1`，12个字节。

## 6.2 哈夫曼算法
哈夫曼算法的关键就是，它抛弃了“1个字符是1个字节（8 bit）的数据”这个概念，而是将多次出现的数据用小于8位的字节数来表示，不常用的数据则可以用超过8位的字节数来表示。可以联想到莫尔斯编码（摩斯电码）。
莫尔斯编码也是把一般文本中出现频率高的字复用短编码来表示，反之用长编码来表示。
压缩软件LHA就是用哈夫曼算法进行压缩的。
### 6.2.1 哈夫曼树
哈夫曼算法是指，通过借助哈夫曼树构造编码体系，为各压缩对象文件分别构造最佳的编码体系，并以此为基础进行压缩。
比如`AAAAAABBCCDDEEEEEF`，制作哈夫曼树：
 1. 列出数据和出现频率
 2. 选择频率最小的数字，将频率相加，作为父节点
 3. 重复步骤二，直到根节点
 4. 按照从根部到底部叶子节点的顺序，在左边的线处写0，右边写1。从根部到底部叶子节点的数字合起来，就是各个字母的编码。
 > 详细见P108
### 6.2.2 哈夫曼算法能够大幅提升压缩比率
制作哈夫曼树的过程中，从出现频率最低的数据开始，即出现频率越低的数据到达根部的枝条数越多，即出现频率越低的数据编码的位数越多。根据统计发现，哈夫曼算法能够大幅提升压缩比率。

## 6.7 可逆压缩和非可逆压缩
